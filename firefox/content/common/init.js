/* Copyright 2011 WebMynd Corp. All rights reserved. */
(function(){var a="2b74ff14-7256-42e0-9bf1-0806eec78788";window.webmynd[a].handlers={GetPrefs:function(e,d,c){window.webmynd[a].model.getPrefs(e.names,c)},SetPrefs:function(e,d,c){c(window.webmynd[a].model.setPrefs(e.pairs))},"Prefs-Keys":function(e,d,c){window.webmynd[a].model.prefs.keys(c)},"Prefs-Clear":function(e,d,c){window.webmynd[a].model.prefs.clear(e.names,c)},"Prefs-ClearAll":function(e,d,c){window.webmynd[a].model.prefs.clearAll(c)},GetUrl:function(e,d,c){window.webmynd[a].model.getUrl(e.url,c)},OpenWindow:function(e,d,c){window.webmynd[a].services.backgroundOpenUrl(e.url)},DoAjax:function(e,d,c){window.webmynd[a].model.doAjax(e.options,c)},"Button-SetIcon":function(e,d,c){window.webmynd[a].services.button.setIcon(e.options)},"Button-SetUrl":function(e,d,c){window.webmynd[a].services.button.setUrl(e.options)}};window.webmynd[a].services.onRequest.addListener(function(f,d,c){var e=window.webmynd[a].handlers[f.header.type];if(typeof e==="undefined"){window.webmynd[a].services.console.log("No handler defined for "+f.header.type+" request.")}else{delete f.header;return e(f,d,c)}});window.webmynd[a].services.button.onClicked.addListener(function(c){window.webmynd[a].services.sendRequestToTabs({header:{toPrivileged:false,type:"Broadcast"},body:{broadcastType:"button-click"}})});window.webmynd[a].services.onConnect.addListener(function(c){if(c.name==="broadcast"){c.onMessage.addListener(function(d){window.webmynd[a].services.sendRequestToTabs(d,function(e){c.postMessage(e)})})}});window.webmynd[a].onStart=window.webmynd[a].onStart||[];function b(){window.webmynd[a].model.init(window.webmynd[a].userData);window.webmynd[a].onStart.forEach(function(c){c(window.webmynd[a].api,window.webmynd[a].$)})}window.addEventListener("load",b,false)})();