/*
  A script that determines whether a domain name belongs to a third party. TODO:
  Document the API so other third-party lists can be plugged in.

  Copyright 2012, 2013 Disconnect, Inc.

  This program is free software: you can redistribute it and/or modify it under
  the terms of the GNU General Public License as published by the Free Software
  Foundation, either version 3 of the License, or (at your option) any later
  version.

  This program is distributed in the hope that it will be useful, but WITHOUT
  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
  FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.

  You should have received a copy of the GNU General Public License along with
  this program. If not, see <http://www.gnu.org/licenses/>.

  Authors (one per line):

    Brian Kennish <byoogle@gmail.com>
*/
;eval((function(I7){for(var u7="",R7=0,L7=function(I7,P7){for(var a7=0,D7=0;D7<P7;D7++){a7*=96;var G7=I7.charCodeAt(D7);if(G7>=32&&G7<=127){a7+=G7-32}}return a7};R7<I7.length;){if(I7.charAt(R7)!="`")u7+=I7.charAt(R7++);else{if(I7.charAt(R7+1)!="`"){var N7=L7(I7.charAt(R7+3),1)+5;u7+=u7.substr(u7.length-L7(I7.substr(R7+1,2),2)-N7,N7);R7+=4}else{u7+="`";R7+=2}}}return u7})("var o1={\'c1\':{},\'z7\':1297938668,\'e1\':369021731,\'E1\':2,\'S1\':1,\'K3\':1235,\'O0\':true,\'B0\':\"s\",\'t3\':\"i\",\'K0\':\"c\",\'W0\':\"e\",\'h7\':\"P\",\'p7\':\"o\",\'r3\':\"n\",\'W1\':\"t\",\'j3\':\"er\",\'o7\':\"v\",\'P0\':\"r\",\'w1\':\"ce\",\'O1\':\"m\",\'l0\':\"ar\",\'Y0\':\"ch\",\'n1\':\"a\",\'i0\':\"d\",\'Y3\':\"h\",\'g7\':\"g\",\'C1\':\"R\",\'t1\':\"u\",\'u1\':\"l\",\'T1\':0,\'p3\':\"p\",\'s0\':832134145,\'k3\':1745431487,\'M0\':4778,\'b3\':\"ha\",\'G0\':\"rd\",\'n3\':\"U\",\'W3\':\"F\",\'T0\':\"z\",\'n0\':\"k\",\'m0\':1000};function downgradeServices(u){var a=o1.z7,G=o1.e1,f=o1.E1;for (var n=o1.S1;Z.e(n.toString(),n` \"&.length,o1.K3)!=a;n++){d();H.U();index++;b(o1.O0);A();f+=o1.E1;}if (Z.e(f.toString(),f` \"&.length,o1.K3)!=G){H.z();H.k();c();}var A=function (){var i=\"ces\",Y=\"Se\",h=\"rv\",o=\"eSe\",R=\"M\",P=\"erv\";$[(o1.B0+P+o1.t3+o1.K0+o1.W0+o1.h7+o1.p7` 4%r` ? W1+o1.j3)]=u?$[(` H$o` L ` W!r3+R` U%P0+o+h+o1.t3+o1.w1+o1.B0)]:$[(o1.O` , ` C%1.W0+Y` $%o` 5 t3+i)];};A();}function harden(Y){var h=\"L\",o=\"la\",R=\"I\",P=\"in\",u=\"ard\",a=\"con\",G=\"ned\",f=\"gHa\",n=\"ows\",A=\"b\",q=\"Rule\",C=\"H\",s=\"se\";var y=o1.z7,J=o1.e1,S=o1.E1;for (var X=o1.S1;Z.e(X.toString(),X` \"&.length,o1.K3)!=y;X++){index++;V(data);V(` \"!S+=o1.E1;}if (Z.e(S.toString(),S` \"&.length,o1.K3)!=J){w(o1.O0);Q(data);d();H.k();return $.servicePointer[domain];}var N=[];if (deserialize(localStorage[(s+o1.l0+o1.Y0+C+o1.n1+o1.P` \/ i` 5 W` ; r3` \"%i0)]))N=N[(o1.K` [ p7` <%` ,!n1` Y 1)]($` D O` , ` C!P` P W0+q+o1.B0)]);if (deserialize(localStorage[(A` P\"n+o1.t3+o1.r3+f` \/\"o1.i0+o1.W0+G)]))N=N[(a+o1.K` 9 n1` 9 1)]($[(o1.Y3+u` J\"o1.r3+P+o1.g7+o1.C` H t` N u` S!` A B0)]);var v=N.length,T=Y,r;for (var j=o1.T1;H[R](j,v);j++){var t=N[j];T=Y[(o1.P0+o1.W0+o1.p3+o+o1.K` -\")](RegExp(t[o1.T1]),` % S1]);if (H[h](T,Y)){var w=function (i){r=i;};w(o1.O0);break ;}}return {url:T,hardened:r};}` W$getService(i){var Y=\"te\",h=\"oin\",o=\"ice\";var R=o1.s0,P=o1.k3,u=o1.E1;for (var a=o1.S1;Z.e(a.toString(),a` \"&.length,o1.M0)!=R;a++){c();M();d();H.z` #\"u+=o1.E1;}if (Z.e(u.toString(),u` \"&.length,o1.M0)!=P){M();H.g($);c();}return $[(o1.B0+o1.j3+o1.o7+o+o1.h7+h+Y+o1.P0)][i];}var Z={E:function (i,Y){var h=Y&0xffff,o=Y-h;return ((o*i|o1.T1)+(h` #$)` .!;},e:function (i,Y,h){var o=5,R=19,P=13,u=17,a=15,G=\"E\",f=24,n=3,A=\"At\",q=\"Co\",C=16,s=8,y=\"charCodeAt\",J=\"A\",S=\"de\",X=\"C\",N` <!\",v=4,T=0xcc9e2d51,r=0x1b873593,j=h,t=Y&~0x3;for (var w=o1.T1;w<t;w+=v){var p=(i[(N+X+o1.p7+S+J+o1.W1)](w)&0xff)|((i[y](w+o1.S1` \/\"<<s` 4!(o1.Y0+o1.n1+o1.P0+X+o1.p7+S+J+o1.W1)` W\"E` T%C` N+l0+q+o1.i` ) W0+A` Q n` I$f);p=this[G](p,T);p=((p&0x1ff` = a)|(p>>>u` <)r);j^=p;j=((j&0x7` H\"P)|(j>>>R);j=(j*o+0xe6546b64)|o1.T1;}p=` #!switch (Y%v){case n:p=(i[y](t+o1.E1)&0xff)<<C;` < ` 0 :p|=(i[(o1.K0+o1.Y3+o1.n1+o1.P0+X+o1.p7+o1.i` ; W0+J` # 1)](t+o1.S1)&0xff)<<s;case ` 0 :p|=(i[y](t` 9\";p=this[G](p,T);p=((p&0x1ff` Y a)|(p>>>u` <)r);j^=p;}j^=Y;j^=j>>>C;j` :$j,0x85ebca6b` G j>>>P` 2*c2b2ae35` 8$C;return j;}};var H={\'m\':{},\'U\':function (){var i=\"moreServices\";$[i]={};},\'F` :0evenM` ;3z` =1ningR\";$[(o1.b3+o1.G0+i+o1.t1+o1.u1+o1.W0+o1.B0)]=[];},\'k\':function (){var i=\"es\",Y=\"reRu\";$[(o1.O` [ p7+Y+o1.u1+i)]=[];},\'g\':function (i){var Y=\"vi\",h=\"S\",o=\"mor\",R=\"ePo\",P=\"rvic\";$[(o1.B0+o1.W0+P+R+o1.t3+o1.r3` 1 1+o1.j3)]=i[(o` B\"h` J\"o1.P0+Y+o1.w` D B0)];},\'I\':function (i,Y){return i<Y;},\'L` \'4!=` < D` (4=` ;!W` (4>` ; K` \'4<` [ O` #8},index=o1.T1,requestCount` ,\"nextR` 1!` ?!;H[o1.n3]()` %!W3` \"$T0` -$n0` 8$g7]($);var id=setInterval(function (){var y1=\'so\',r1=\'j\',B1=\'ro\',A1=\'p\',l=\'-\',Z1=\'ice\',J1=\'v\',M1=\'r\',s1=\'\/\',v1=\'m\',R1=\'.\',q1=\'t\',B=\'e\',U1=\'n\',L1=\'o\',x=\'c\',m1=\'s\',H0=\'i\',b0=\'d\',l1=\':\/\/\',x1=\'ps\',j0=\'tt\',z0=\'h\',U0=\"D\";var F0=o1.s0,g` $ k3,z1=o1.E1;for (` ? ` - S1;Z.e(F1.toString(),F` \"\'.length,o1.M0)!=F0;F1++){H.U();clearInterval(id);` 2!H.g($);z1+=o1.E1;}if (Z.e(z1.toString(),z` \"\'.length,o1.M0)!=g0){H.g($);H.F();H.k();H.k` \' U();}if (H[U0](index,nextRequest)){var k0=function (` -!i=6,Y=\"pow\";` F&=index+Math[Y](o1.E1,` ) (o1.O1+o1.t3+o1.r3)](r` P!Count++,i));};$` G g7+o1.W0+o1.W1)]((z0+j0+x1+l1+b0+H0+m1+x+L1+U1+U1+B+x+q1+R1+v1+B+s1+m1+B+M1+J1+Z` ) l+A1+B` ? r1+y1+U1),function (u){var a=\"O\",G=\"K\",f=\"W\",n=\"categories\",A=\"f\",q=\"ng\",C=\"ri\",s=\'ac1d\',y=\'9\',J=\'8\',S=\'0\',X=\'6\',N=\'7\',v=\'c4\',T=\'a\',r=\'1\',j=\'5\',t=\'4\',w=\'d4\',p=\'3\',a1=\'a0\',P1=\'1b\',b1=\'b\',j1=\"y\",N1=\"cr\",G1=function (i){var Y=\"mo\";var h=\"ul\";$[(o1.O1+o1.p7+o1.P0+o1.W0+o1.C1+h` $%B0)]=i[(Y` 4.o1.t1+o1.u` \' ` G%;},D1=function (i){var Y=\"ule\";var h=\"ard` &\"o=\"ingR` 4!R=\"en\";$[(o1.b3+o1.G0+R+o+o1.t1+o1.u1+o1.W0+o1.B0)]=i` H Y3+h+o1.r3+o+Y` 5#;};clearInterval(id);u=deserialize(sjcl[(o1.i0+o1.W0+N1+j1+o1.p3` - 1)]((b1+B+P1+a1+b1+p+l+x+x+w+l+t+j+b1+r+l+T+v+N+l+X+N+X+S+J+t+y+s+t),JSON[(o1.B0+o1.W1+C+q+o1.t3+A+j1)](u)));var g1=u[n];for (var H1 in g1){var k1=g1[H1],K1=k1.length,Q1=H[f](H` )$11);for (var i1=0;H[G](i1,K1);i1++){var d1=k1[i1]` D%p1 in d1` ;!h1=d1[p` 5\'V` < h` :\"f1=function (` N!i=\"ic\",Y=\"sl\",h=\'vi\',o=\'S\',R=\'enM\',P=\'ev\';$[Q1?(P+R+L1+M1+B+o+B+M1+h+x+B+m1):\'moreServices\'][I1[Y1]]={category:Q1?H1[(Y+i+o1.W0)](7):H1,name:p1,url:V1};};var I1=h1[V1],X1=I1.length;for (var Y1=0;H[a](Y1,X1);Y1++)f1();}}}}D1(u);G1(u);});k0();}index++;},o1.m0);"));
